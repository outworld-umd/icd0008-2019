@page
@using GameEngine
@model WebApp.Pages_Games.DetailsModel

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>
<hr/>
<h4>Save name: "@Model.GameState.Name"</h4>
<div>
    <a class="btn btn-primary" asp-page="./Play" asp-route-id="@Model.GameState.Name">Play</a> <a class="btn btn-secondary" asp-page="./Load">Back to List</a>
</div>
<div>
    <br>
    @if (Model.GameState.Winner != 0) {
        <div class="alert alert-success">
            <div class="alert-heading">
                @if (Model.GameState.Winner == 1) {
                    <div class="alert-heading">Player 1 won!</div>
                }
                @if (Model.GameState.Winner == 2) {
                    <div class="alert-heading">Player 2 won!</div>
                }
                @if (Model.GameState.Winner == 3) {
                    <div class="alert-heading">It's a tie!</div>
                }
            </div>
        </div>
    }
    <table style="margin-left:auto; margin-right:auto">
        @for (var column = 0; column < Model.Game.Height; column++) {
            <tr>
                @for (var row = 0; row < Model.Game.Width; row++) {
                    switch (Model.Game.GetBoard()[column, row]) {
                        case Cell.X:
                            <td class="td-field">ðŸ”´</td>
                            break;
                        case Cell.O:
                            <td class="td-field">ðŸŸ¡</td>
                            break;
                        case Cell.Empty:
                            <td class="td-field"> </td>
                            break;
                    }
                }
            </tr>
        }
    </table>
</div>
<style>
.td-field {
    border: 2px solid blue; 
    background-color: cornflowerblue; 
    width: 50px; 
    height: 50px; 
    text-align: center; 
    font-size: 1.5rem
}

.button-field {
    margin-top: 1em;
    text-align: center;
}

.move-button {
    height: 1rem;
    width: 1rem;
}
</style>